<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Kaspi — Профит</title>
  <link rel="stylesheet" href="/ui/assets/css/theme.css"/>
</head>
<body>
  <div class="container">
    <header>
      <h1>Kaspi — Оборот / Комиссии / Чистая прибыль</h1>
      <div>
        <a class="btn" href="/ui/">Главная</a>
        <a class="btn" href="/ui/inventory.html">Склад</a>
        <a class="btn" href="/ui/catalog.html">Каталог</a>
        <button class="btn" id="themeBtn">Тема</button>
      </div>
    </header>

    <form id="form" class="controls">
      <button class="btn preset" data-mode="kaspi_pack" type="button">Kaspi: Упаковка (до cut-off)</button>
      <label>Начало <input id="start" type="date" required></label>
      <label>Конец <input id="end" type="date" required></label>
      <label>до времени <input id="end_time" placeholder="например 20:00"></label>
      <label>State(ы) <input id="states" placeholder="например KASPI_DELIVERY"></label>
      <label><input type="checkbox" id="excCanceled" checked> Исключить отменённые</label>
      <label>Дата по полю <input id="date_field" placeholder="creationDate" value="plannedShipmentDate"></label>
      <label><input type="checkbox" id="useCutoff" checked> Режим cut-off</label>
      <label>Cut-off <input id="cutoff" placeholder="20:00"></label>
      <label>Lookback (дней) <input id="lookback" type="number" min="1" value="3" style="width:70px"></label>
      <button class="btn primary" type="submit">Показать</button>
    </form>

    <section class="panel">
      <h2>Настройки комиссий</h2>
      <div class="controls">
        <label>Комиссия платформы, % <input id="cfg_comm" type="number" step="0.01" style="width:90px"></label>
        <label>Эквайринг, % <input id="cfg_acq" type="number" step="0.01" style="width:90px"></label>
        <label>Доставка (фикс), ₸ <input id="cfg_del" type="number" step="0.01" style="width:120px"></label>
        <label>Прочие (фикс), ₸ <input id="cfg_other" type="number" step="0.01" style="width:120px"></label>
        <button class="btn" id="saveCfg">Сохранить</button>
      </div>
      <div id="totals" class="kpis"></div>
    </section>

    <section class="panel">
      <h2>Заказы</h2>
      <div id="ordersTable"></div>
    </section>
  </div>
  <script type="module" src="/ui/assets/js/profit.js"></script>
</body>
</html>
